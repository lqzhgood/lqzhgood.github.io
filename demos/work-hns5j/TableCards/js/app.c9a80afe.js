(function(e){function t(t){for(var a,i,s=t[0],l=t[1],c=t[2],f=0,p=[];f<s.length;f++)i=s[f],r[i]&&p.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"034f":function(e,t,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},"0485":function(e,t,n){"use strict";var a=n("10bf"),r=n.n(a);r.a},"059d":function(e,t,n){"use strict";var a=n("c6df"),r=n.n(a);r.a},1:function(e,t,n){e.exports=n("56d7")},"10bf":function(e,t,n){},2:function(e,t){},3:function(e,t){},"48a1":function(e,t,n){"use strict";var a=n("cfe3"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-header",{staticClass:"head"},[n("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal","default-active":"1"}},[n("el-menu-item",{attrs:{index:"1"}},[e._v("桌牌")])],1)],1),n("el-main",{staticClass:"main"},[n("TableDom")],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tableDom"}},[n("div",{staticClass:"bts"},[n("el-tooltip",{attrs:{content:"清空",placement:"top"}},[n("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading.get,expression:"loading.get",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"danger",plain:"",icon:"el-icon-close",circle:""},on:{click:function(t){return e.empty()}}})],1),n("el-tooltip",{attrs:{content:"刷新",placement:"top"}},[n("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading.get,expression:"loading.get",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"warning",plain:"",icon:"el-icon-refresh",circle:""},on:{click:function(t){return e.refresh()}}})],1),n("el-tooltip",{attrs:{content:"打印",placement:"top"}},[n("el-button",{attrs:{type:"info",plain:"",loading:e.loading.save,icon:"el-icon-printer",circle:""},on:{click:function(t){return e.printf()}}})],1),n("el-tooltip",{attrs:{content:"保存",placement:"top"}},[n("el-button",{attrs:{type:"success",plain:"",loading:e.loading.save,icon:"el-icon-receiving",circle:""},on:{click:function(t){return e.save()}}})],1),n("el-tooltip",{attrs:{content:"导出",placement:"top"}},[n("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-download",circle:""},on:{click:function(t){return e.exportExl()}}})],1)],1),n("div",{staticClass:"msg"},[e._v(e._s(e.msg)+"-")]),n("div",{ref:"wrap",staticClass:"wrap"},[n("PeopleWrap",{attrs:{position:"top",arr:e.arrTop}}),n("div",{staticClass:"tableWrap"},[n("div",{staticClass:"tabel"}),n("PeopleWrap",{attrs:{position:"right",arr:e.arrRight}})],1),n("PeopleWrap",{attrs:{position:"bottom",arr:e.arrBottom}})],1),n("div",{staticClass:"other"},[n("el-form",{attrs:{inline:!0,size:"mini"}},[n("el-form-item",{attrs:{label:"空白桌牌填充"}},[n("el-input",{model:{value:e.emptyInput,callback:function(t){e.emptyInput="string"===typeof t?t.trim():t},expression:"emptyInput"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.emptyName("fill")}}},[e._v("填充")]),n("el-button",{attrs:{type:"info"},on:{click:function(t){return e.emptyName("del")}}},[e._v("删除")])],1)],1)],1)])},s=[],l=(n("be4f"),n("450d"),n("896a")),c=n.n(l),u=(n("ac6a"),n("a481"),n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.position},e._l(e.arr,function(t,a){return n("div",{key:a+t.name,staticClass:"people",class:{active:t.isEdit}},[n("el-popover",{attrs:{placement:"bottom",trigger:"click"},model:{value:t.isEdit,callback:function(n){e.$set(t,"isEdit",n)},expression:"v.isEdit"}},[n("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":"",clearable:!0,size:"mini",placeholder:"请输入"},on:{change:function(n){return e.selectChange(t)}},model:{value:t.name,callback:function(n){e.$set(t,"name","string"===typeof n?n.trim():n)},expression:"v.name"}},e._l(e.fillArr,function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})}),1),n("div",{attrs:{slot:"reference"},slot:"reference"},[n("p",{staticClass:"index"},[e._v("\n                    "+e._s(t.index)+"\n                    "),n("i",{staticClass:"icon el-icon-edit"})]),n("el-tag",{class:{empty:!t.name},attrs:{slot:"reference",size:"mini",closable:"",hit:!0},on:{close:function(n){return e.close(t)}},slot:"reference"},[e._v(e._s(t.name))])],1)],1)],1)}),0)}),f=[],p=["","刘一","陈二","张三","李四","王五","赵六","孙七","周八","吴九","郑十"],d={name:"",data:function(){return{popoverVisible:!1,fillArr:p}},props:{arr:{type:Array,default:function(){return[]}},position:{type:String,default:"top"}},methods:{close:function(e){e.name=""},selectChange:function(e){e.isEdit=!1}}},m=d,g=(n("8993"),n("0485"),n("2877")),h=Object(g["a"])(m,u,f,!1,null,"5577b2b3",null),v=h.exports,b=n("bc3a"),y=n.n(b),w=function(){return y.a.get("/tableCard/last")},x=function(e){return y.a.post("/tableCard/last",{json:e})},k=(n("34ef"),n("456d"),n("1146")),_=n.n(k),C=function(e,t){var n=_.a.utils.book_new(),a=_.a.utils.json_to_sheet(e,{skipHeader:!0});return _.a.utils.book_append_sheet(n,a,"Sheet"),_.a.writeFile(n,t)};var j={name:"tableDom",mounted:function(){this.getLast()},data:function(){return{emptyInput:"",loading:{get:!1,save:!1},arr:[],msg:""}},computed:{arrHandleName:function(){return this.arr.map(function(e){return e&&2===e.name.length&&(e.name=e.name.replace(/(.{1})/,"$1　")),e})},ajaxJson:function(){return this.arrHandleName.map(function(e){return{name:e.name,index:e.index}})},arrTop:function(){return this.arrHandleName.filter(function(e){return"top"==e.position})},arrRight:function(){return this.arrHandleName.filter(function(e){return"right"==e.position})},arrBottom:function(){return this.arrHandleName.filter(function(e){return"bottom"==e.position})}},watch:{arrHandleName:{handler:function(e,t){this.msg="有数据未保存"},deep:!0}},methods:{emptyName:function(e){var t=this;switch(e){case"fill":this.arr.forEach(function(e){""==e.name&&(e.name=t.emptyInput)});break;case"del":this.arr.forEach(function(e){e.name==t.emptyInput&&(e.name="")});break}},exportExl:function(){this.save();var e=this.arrHandleName.map(function(e,t){var n=250;return e.name.length>=5&&e.name.length<=7?n=130:e.name.length>=8&&(n=100),{"桌牌ID":e.index,"顶端文字":"","中间文字":e.name,"底端文字":"","顶端大小":100,"中间大小":n,"底端大小":100}});e.unshift({"桌牌ID":"桌牌ID","顶端文字":"顶端文字","中间文字":"中间文字","底端文字":"底端文字","顶端大小":"顶端大小","中间大小":"中间大小","底端大小":"底端大小"}),C(e,"桌牌.xls")},getLast:function(){var e=this;this.loading.get||(this.loading.get=!0,w().then(function(t){if(200!=t.data.statusCode)throw new Error(t.data.msg);var n=t.data.result;if(34!=n.length)for(var a=0;a<34;a++)n.push({index:a+1,name:""});e.arr=n.map(function(e,t){var n="right";return e.index<=16&&(n="top"),e.index>=19&&(n="bottom"),{index:e.index,name:e.name,position:n,isEdit:!1}}),e.$nextTick(function(){e.msg=""}),e.$notify({title:"成功",message:t.data.msg,type:"success"})}).catch(function(t){console.log("err",t),e.$notify.error({title:"错误",message:t.message})}).finally(function(){e.loading.get=!1}))},save:function(){var e=this;this.loading.save||(this.loading.save=!0,x(this.ajaxJson).then(function(t){if(200!=t.data.statusCode)throw new Error(t.data.msg);e.$notify({title:"成功",message:t.data.msg,type:"success"}),e.$nextTick(function(){e.msg=""})}).catch(function(t){e.$notify.error({title:"错误",message:t.message})}).finally(function(){e.loading.save=!1}))},printf:function(){this.save(),print.portrait=!1,window.print()},loadingHandle:function(e){e?c.a.service({fullscreen:!0}):c.a.close()},rotate:function(e){var t=this.$refs.wrap;switch(e){case"sp":t.classList.toggle("sp");break;case"cz":t.classList.toggle("cz");break}},refresh:function(){history.go(0)},empty:function(){this.arr=this.arr.map(function(e){return e.name="",e})}},components:{PeopleWrap:v}},$=j,E=(n("48a1"),n("059d"),Object(g["a"])($,i,s,!1,null,"3cc8453a",null)),N=E.exports,O={name:"app",components:{TableDom:N}},P=O,I=(n("034f"),Object(g["a"])(P,r,o,!1,null,null,null)),T=I.exports,A=n("2f62");a["default"].use(A["a"]);var H=new A["a"].Store({state:{},mutations:{},actions:{}}),S=n("9483");Object(S["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("46a1");var L=n("e5f2"),D=n.n(L),z=(n("eca7"),n("3787")),R=n.n(z),W=(n("425f"),n("4105")),J=n.n(W),M=(n("10cb"),n("f3ad")),U=n.n(M),B=(n("0c679"),n("299c")),F=n.n(B),q=(n("8bd8"),n("4cb2")),V=n.n(q),G=(n("4ca3"),n("443e")),K=n.n(G),Q=(n("06f1"),n("6ac9")),X=n.n(Q),Y=(n("cbb5"),n("8bbc")),Z=n.n(Y),ee=(n("6611"),n("e772")),te=n.n(ee),ne=(n("1f1a"),n("4e4b")),ae=n.n(ne),re=(n("de31"),n("c69e")),oe=n.n(re),ie=(n("a673"),n("7b31")),se=n.n(ie),le=(n("adec"),n("3d2d")),ce=n.n(le),ue=(n("1951"),n("eedf")),fe=n.n(ue);a["default"].use(fe.a),a["default"].use(ce.a),a["default"].use(se.a),a["default"].use(oe.a),a["default"].use(ae.a),a["default"].use(te.a),a["default"].use(Z.a),a["default"].use(X.a),a["default"].use(K.a),a["default"].use(V.a),a["default"].use(F.a),a["default"].use(U.a),a["default"].use(J.a),a["default"].use(R.a),a["default"].use(c.a.directive),a["default"].prototype.$loading=c.a.service,a["default"].prototype.$notify=D.a,n("09bd").shim(),a["default"].config.productionTip=!1,a["default"].prototype.myConst={API_URL:""},a["default"].prototype.myConst.API_URL="./api",a["default"].prototype.$http=y.a,y.a.defaults.baseURL=a["default"].prototype.myConst.API_URL,y.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",new a["default"]({store:H,render:function(e){return e(T)}}).$mount("#app")},"64a9":function(e,t,n){},8993:function(e,t,n){"use strict";var a=n("d83c"),r=n.n(a);r.a},c6df:function(e,t,n){},cfe3:function(e,t,n){},d83c:function(e,t,n){}});
//# sourceMappingURL=app.c9a80afe.js.map